<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:insert="head :: header">

<body>

    <div id="wrapper">

        <!-- Navigation -->
			<div th:insert="navigation :: navbar">  </div>


        <div id="page-wrapper">
            <div class="row">

                    <h1 class="page-header">Application Instances
						<div class="pull-right">
							<input id="instanceSearch" type="text" class="input-lg" placeholder="Search..."></input>
							<a href="/addAppInstance" title="Create Instance"><i class="fa fa-plus"></i></a>
						</div>
					</h1>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <div id="instanceDiv" class="col-lg-3 col-md-6" th:each="instance: ${appinstances}">
                    <div th:class="${instance.status=='Active'} ? 'panel panel-primary' : 'panel panel-default'">
                        <div class="panel-heading">
							<div class="row">
								<div class="col-xs-12 text-right">
										<a th:href="@{'/deleteAppInstance?id='+${instance.id}}" th:style="${instance.status=='Active'} ? 'text-decoration: none;color:white': 'text-decoration: none;color:black'" data-toggle="tooltip" data-placement="top" title="Delete">
											<i class="fa fa-trash fa-lg" aria-hidden="true"></i>
										</a>
								</div>
								<div class="col-xs-12">
									 <p id="instanceName" class="h4" th:text="${instance.appInstanceName}"></p>
								</div>
								<div class="small col-xs-12">
									 <span class="pull-right" th:text="${instance.status}"></span>
								</div>
							</div>
                        </div>
                        <a th:href="@{'/instancedetail?id='+${instance.id}}" th:style="${instance.status=='Inactive'} ? 'text-decoration: none;color:black'">
                            <div class="panel-footer">
                                <span class="pull-left">More Details</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>

                    </div>
                </div>

            </div>

            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

<script>
$("#instanceSearch").on('change keyup paste', function() {
	var searchText = $(this).val();
    $('[id^=instanceDiv]').each(function(){
		var isShow=true;
		//enable search by instance name
		var instanceName=$(this).find("#instanceName")
		
		if(instanceName.text().toLowerCase().search(searchText.toLowerCase())>-1)
		{
			isShow=true;
		}
		else
		{
			isShow=false;
		}
		
		
		//show or hide div
		isShow? $(this).show():$(this).hide();
	});
});	
</script>	

</body>

</html>
